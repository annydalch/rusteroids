extern crate sdl2;

use sdl2::pixels::Color;
use super::globals::*;
use sdl2::gfx::primitives::DrawRenderer;

pub struct Asteroid {
    radius: i16,
    x: i16,
    y: i16,
    dx: i16,
    dy: i16,
    color: Color,
}

impl Asteroid {
    pub fn draw(&self, mut renderer: &mut sdl2::render::Renderer) {
        renderer.filled_circle::<Color>(self.x, self.y, self.radius, self.color).unwrap();
    }
    pub fn update_position(&mut self) {
        self.x += self.dx;
        if (self.x + self.radius) < 0 {
            self.x += (WINDOW_DIMENSIONS.0 as i16) + self.radius * 2;
        }
        if (self.x - self.radius) > (WINDOW_DIMENSIONS.0 as i16) {
            self.x -= (WINDOW_DIMENSIONS.0 as i16) + self.radius * 2;
        }
        self.y += self.dy;
        if (self.y + self.radius) < 0 {
            self.y += (WINDOW_DIMENSIONS.1 as i16) + self.radius * 2;
        }
        if (self.y - self.radius) > (WINDOW_DIMENSIONS.1 as i16) {
            self.y -= (WINDOW_DIMENSIONS.1 as i16) + self.radius * 2;
        }
    }
    pub fn new(starting_x: i16, starting_y: i16, radius: i16, dx: i16, dy: i16) -> Asteroid {
        Asteroid {
            radius: radius,
            x: starting_x,
            y: starting_y,
            dx: dx,
            dy: dy,
            color: ASTEROID_COLOR,
        }
    }
}
